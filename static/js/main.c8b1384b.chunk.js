(window.webpackJsonpdollhouse=window.webpackJsonpdollhouse||[]).push([[0],{37:function(e,c,n){e.exports=n.p+"static/media/dollhouse-and-write.c3c0d1f1.png"},40:function(e,c,n){e.exports=n(87)},45:function(e,c,n){},79:function(e,c){},85:function(e,c,n){},86:function(e,c,n){},87:function(e,c,n){"use strict";n.r(c);var t=n(0),a=n.n(t),r=n(30),i=n.n(r),d=(n(45),n(31)),o=n(33),l=n(34),s=n(35),h=n(38),m=n(36),u=n(39);n(85);function p(e){return a.a.createElement("div",{className:"card "+(e.selected?"selected":""),onClick:e.onCardSelect},a.a.createElement("div",null,e.card.name),a.a.createElement("div",null,e.card.w," X ",e.card.h))}n(86);var v=n(37),w=n.n(v),k=[{id:0,q:1,name:"permit",w:12,h:9},{id:1,q:1,name:"roof",w:3,h:1},{id:2,q:3,name:"small-room",w:3,h:3},{id:3,q:3,name:"medium-room",w:5,h:3},{id:4,q:3,name:"big-room",w:7,h:3},{id:5,q:3,name:"tall-room",w:3,h:6},{id:6,q:4,name:"doll",w:1,h:2},{id:7,q:1,name:"toilet",w:1,h:1},{id:8,q:1,name:"shower",w:1,h:3},{id:9,q:1,name:"bathtub",w:3,h:1},{id:10,q:1,name:"bed",w:3,h:1},{id:11,q:1,name:"tv",w:1,h:1},{id:12,q:1,name:"coach",w:3,h:1},{id:13,q:1,name:"table",w:3,h:2},{id:14,q:1,name:"big-tv",w:2,h:1},{id:15,q:1,name:"stove",w:2,h:2},{id:16,q:1,name:"kitchen-table",w:2,h:2},{id:16,q:1,name:"bench",w:2,h:1},{id:17,q:1,name:"plant",w:1,h:2},{id:18,q:2,name:"painting",w:1,h:1},{id:19,q:1,name:"car",w:3,h:2},{id:20,q:2,name:"cat",w:1,h:1},{id:21,q:3,name:"dog",w:1,h:1},{id:22,q:1,name:"parrot",w:1,h:1}],f=function(e){function c(){return Object(l.a)(this,c),Object(h.a)(this,Object(m.a)(c).apply(this,arguments))}return Object(u.a)(c,e),Object(s.a)(c,[{key:"onClick",value:function(e){var c=e.currentTarget.getBoundingClientRect(),n=e.clientX-c.left,t=e.clientY-c.top;console.log("click>",c,e.pageX,e.clientX,e.offsetX);var a=Math.floor(n/40),r=Math.floor(t/40);console.log("onclick",n,t,r,a),this.props.moves.clickCell(r,a),this.props.moves.endRound()}},{key:"onCardClick",value:function(e){this.props.moves.clickCard(e)}},{key:"onCardSelect",value:function(e){console.log("onCardSelect",e),this.props.moves.selectCard(e)}},{key:"onMouseMove",value:function(e){this.isActive(e)&&this.props.moves.mouseOver(e)}},{key:"isActive",value:function(e){return!!this.props.isActive&&0===this.props.G.cells[e]}},{key:"render",value:function(){var e=this;this.props.ctx.gameover&&(void 0!==this.props.ctx.gameover.winner?a.a.createElement("div",{id:"winner"},"Winner: ",this.props.ctx.gameover.winner):a.a.createElement("div",{id:"winner"},"Draw!"));var c=this.props.G.reserve.map(function(e,c){return a.a.createElement("div",{key:"room"+c,style:{width:40*e.w-8+"px",height:40*e.h-8+"px",left:40*e.c-8+"px",top:40*e.r-8+"px",backgroundColor:e.color},className:"room ".concat(e.name)})}),n=k.map(function(c,n){return a.a.createElement("div",{className:"card",key:"card"+c.id+n,onClick:function(){e.onCardClick(c.id)}},a.a.createElement("div",null,c.id),a.a.createElement("div",null,c.name),a.a.createElement("div",null,c.w,"x",c.h))}),t=this.props.G.discard.map(function(e,c){return a.a.createElement("div",{key:"discarted"+c,card:e},k[e].name)}),r=this.props.G.deck.map(function(e,c){return a.a.createElement("div",{key:"deck"+c,card:e},k[e].name)});return a.a.createElement("div",{id:"dollhouse-game"},a.a.createElement("img",{id:"logo",src:w.a,alt:"Dollhouse & Write",height:"180"}),a.a.createElement("div",{id:"cardroll"},a.a.createElement(p,{card:k[this.props.G.card1],onCardSelect:function(){e.onCardSelect(0)},selected:0===this.props.G.cardSelected}),a.a.createElement(p,{card:k[this.props.G.card2],onCardSelect:function(){e.onCardSelect(1)},selected:1===this.props.G.cardSelected}),a.a.createElement(p,{card:k[this.props.G.card3],onCardSelect:function(){e.onCardSelect(2)},selected:2===this.props.G.cardSelected})),a.a.createElement("div",{id:"paper",style:{width:560,height:440}},a.a.createElement("div",{id:"board",style:{width:560,height:440},onClick:function(c){e.onClick(c)}},c)),a.a.createElement("div",{id:"scoresheet"},a.a.createElement("div",null,"Bed Room"),a.a.createElement("div",null,"Kitchen"),a.a.createElement("div",null,"Bathroom")),a.a.createElement("div",{id:"carddecks"},a.a.createElement("div",{id:"deck"},"Deck: ",r),a.a.createElement("div",{id:"discard"},"Discard: ",t)),a.a.createElement("div",{id:"cardselector"},n[this.props.G.cn],n))}}]),c}(a.a.Component),g=Object(o.Game)({setup:function(){return{cells:Array(132).fill(0),pivot:null,sw:3,sh:3,cn:1,cardSelected:0,card1:1,card2:2,card3:3,deck:b(k),discard:[],reserve:[Object.assign({c:1,r:2},k[0])],scolor:"lightpink"}},moves:{clickCell:function(e,c,n,t){var a=Object.assign({r:n-k[e.cn].h+1,c:t},k[e.cn]);console.log("clickcell",k[e.cn],a),console.log(n,t),e.reserve.push(a)},clickCard:function(e,c,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.cn=n},selectCard:function(e,c){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e.cardSelected=n,n){case 0:e.cn=e.card1;break;case 1:e.cn=e.card2;break;case 2:e.cn=e.card3;break;default:e.cardSelected=0,e.cn=e.card1}console.log("select",e.cn)},endRound:function(e,c){e.discard.push(e.card2),e.discard.push(e.card3),e.deck.length>0?e.card2=e.deck.splice(0,1)[0]:(C(e.discard),e.deck=e.discard,e.discard=[],e.card2=e.deck.splice(0,1)[0]),e.deck.length>0?e.card3=e.deck.splice(0,1)[0]:(C(e.discard),e.deck=e.discard,e.discard=[],e.card3=e.deck.splice(0,1)[0]),e.cardSelected=0,c.events.endTurn()}}}),E=Object(d.Client)({game:g,board:f,debug:!1,numPlayers:1});function C(e){for(var c=e.length-1;c>0;c--){var n=Math.floor(Math.random()*(c+1)),t=e[c];e[c]=e[n],e[n]=t}}function b(e){for(var c=[],n=1;n<e.length;n++)for(var t=0;t<e[n].q;t++)c.push(e[n].id);return C(c),console.log(c),c}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.c8b1384b.chunk.js.map