(window.webpackJsonpdollhouse=window.webpackJsonpdollhouse||[]).push([[0],{37:function(e,n,t){e.exports=t.p+"static/media/dollhouse-and-write.c3c0d1f1.png"},40:function(e,n,t){e.exports=t(94)},45:function(e,n,t){},83:function(e,n){},89:function(e,n,t){},90:function(e,n,t){},91:function(e,n,t){},92:function(e,n,t){e.exports=t.p+"static/media/cat.02700702.svg"},94:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(30),i=t.n(r),o=(t(45),t(31)),d=t(33),l=t(34),s=t(35),m=t(38),h=t(36),u=t(39);t(89);function p(e){return c.a.createElement("div",{className:"card "+(e.selected?"selected":""),onClick:e.onCardSelect},c.a.createElement("div",null,e.card.name),c.a.createElement("div",null,e.card.w," X ",e.card.h))}t(90),t(91);var v=t(37),w=t.n(v),f=(t(92),t(93),[{id:0,q:1,name:"permit",w:12,h:9},{id:1,q:1,name:"roof",w:3,h:1},{id:2,q:3,name:"small-room",w:3,h:3},{id:3,q:3,name:"medium-room",w:5,h:3},{id:4,q:3,name:"big-room",w:7,h:3},{id:5,q:3,name:"tall-room",w:3,h:6},{id:6,q:4,name:"doll",w:1,h:2},{id:7,q:1,name:"toilet",w:1,h:2},{id:8,q:1,name:"shower",w:1,h:3},{id:9,q:1,name:"bathtub",w:2,h:1},{id:10,q:1,name:"bed",w:3,h:1},{id:11,q:1,name:"tv",w:1,h:1},{id:12,q:1,name:"sofa",w:3,h:2},{id:13,q:1,name:"bookshelf",w:2,h:2},{id:14,q:1,name:"toy",w:1,h:1},{id:15,q:1,name:"stove",w:2,h:2},{id:16,q:1,name:"kitchen-table",w:2,h:1},{id:16,q:1,name:"bench",w:2,h:1},{id:17,q:1,name:"plant",w:1,h:1},{id:18,q:2,name:"painting",w:1,h:1},{id:19,q:1,name:"car",w:3,h:2},{id:20,q:2,name:"cat",w:1,h:1},{id:21,q:3,name:"dog",w:1,h:1},{id:22,q:1,name:"parrot",w:1,h:1},{id:23,q:1,name:"tree",w:2,h:3}]),k=function(e){function n(){return Object(l.a)(this,n),Object(m.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(u.a)(n,e),Object(s.a)(n,[{key:"onClick",value:function(e){var n=e.currentTarget.getBoundingClientRect(),t=e.clientX-n.left,a=e.clientY-n.top;console.log("click>",n,e.pageX,e.clientX,e.offsetX);var c=Math.floor(t/40),r=Math.floor(a/40);console.log("onclick",t,a,r,c),this.props.moves.clickCell(r,c),this.props.moves.endRound()}},{key:"onCardClick",value:function(e){this.props.moves.clickCard(e)}},{key:"onCardSelect",value:function(e){console.log("onCardSelect",e),this.props.moves.selectCard(e)}},{key:"onMouseMove",value:function(e){this.isActive(e)&&this.props.moves.mouseOver(e)}},{key:"isActive",value:function(e){return!!this.props.isActive&&0===this.props.G.cells[e]}},{key:"render",value:function(){var e=this;this.props.ctx.gameover&&(void 0!==this.props.ctx.gameover.winner?c.a.createElement("div",{id:"winner"},"Winner: ",this.props.ctx.gameover.winner):c.a.createElement("div",{id:"winner"},"Draw!"));var n=this.props.G.reserve.map(function(e,n){return c.a.createElement("div",{key:"room"+n,style:{width:40*e.w-8+"px",height:40*e.h-8+"px",left:40*e.c-8+"px",top:40*e.r-8+"px",backgroundColor:e.color},className:"room ".concat(e.name)})}),t=f.map(function(n,t){return c.a.createElement("div",{className:"card",key:"card"+n.id+t,onClick:function(){e.onCardClick(n.id)}},c.a.createElement("div",null,n.id),c.a.createElement("div",null,n.name),c.a.createElement("div",null,n.w,"x",n.h),c.a.createElement("div",{className:"room "+n.name}))}),a=this.props.G.discard.map(function(e,n){return c.a.createElement("div",{key:"discarted"+n,card:e},f[e].name)}),r=this.props.G.deck.map(function(e,n){return c.a.createElement("div",{key:"deck"+n,card:e},f[e].name)});return c.a.createElement("div",{id:"dollhouse-game"},c.a.createElement("img",{id:"logo",src:w.a,alt:"Dollhouse & Write",height:"180"}),c.a.createElement("div",{id:"cardroll"},c.a.createElement(p,{card:f[this.props.G.card1],onCardSelect:function(){e.onCardSelect(0)},selected:0===this.props.G.cardSelected}),c.a.createElement(p,{card:f[this.props.G.card2],onCardSelect:function(){e.onCardSelect(1)},selected:1===this.props.G.cardSelected}),c.a.createElement(p,{card:f[this.props.G.card3],onCardSelect:function(){e.onCardSelect(2)},selected:2===this.props.G.cardSelected})),c.a.createElement("div",{id:"paper",style:{width:560,height:440}},c.a.createElement("div",{id:"board",style:{width:560,height:440},onClick:function(n){e.onClick(n)}},n)),c.a.createElement("div",{id:"scoresheet"},c.a.createElement("div",null,"Bed Room"),c.a.createElement("div",null,"Kitchen"),c.a.createElement("div",null,"Bathroom")),c.a.createElement("div",{id:"carddecks"},c.a.createElement("div",{id:"deck"},"Deck: ",r),c.a.createElement("div",{id:"discard"},"Discard: ",a)),c.a.createElement("div",{id:"cardselector"},t[this.props.G.cn],t))}}]),n}(c.a.Component),g=Object(d.Game)({setup:function(){return{cells:Array(132).fill(0),pivot:null,sw:3,sh:3,cn:1,cardSelected:0,card1:1,card2:2,card3:3,deck:q(f),discard:[],reserve:[Object.assign({c:1,r:2},f[0])],scolor:"lightpink"}},moves:{clickCell:function(e,n,t,a){var c=Object.assign({r:t-f[e.cn].h+1,c:a},f[e.cn]);console.log("clickcell",f[e.cn],c),console.log(t,a),e.reserve.push(c)},clickCard:function(e,n,t){arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.cn=t},selectCard:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e.cardSelected=t,t){case 0:e.cn=e.card1;break;case 1:e.cn=e.card2;break;case 2:e.cn=e.card3;break;default:e.cardSelected=0,e.cn=e.card1}console.log("select",e.cn)},endRound:function(e,n){e.discard.push(e.card2),e.discard.push(e.card3),e.deck.length>0?e.card2=e.deck.splice(0,1)[0]:(C(e.discard),e.deck=e.discard,e.discard=[],e.card2=e.deck.splice(0,1)[0]),e.deck.length>0?e.card3=e.deck.splice(0,1)[0]:(C(e.discard),e.deck=e.discard,e.discard=[],e.card3=e.deck.splice(0,1)[0]),e.cardSelected=0,n.events.endTurn()}}}),E=Object(o.Client)({game:g,board:k,debug:!1,numPlayers:1});function C(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*(n+1)),a=e[n];e[n]=e[t],e[t]=a}}function q(e){for(var n=[],t=2;t<e.length;t++)for(var a=0;a<e[t].q;a++)n.push(e[t].id);return C(n),console.log(n),n}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.5cc55255.chunk.js.map